// This file would normally be generated by Flex

#include <stdio.h>
#include <stdlib.h>
#include <ctype.h> 
#include "types.h"
#include "calc.tab.h"

int yylex(Flow* flows, char** start)
{
   static int tokens = 0;
   
   int token = 267;
   int yychar;

   yychar = fgetc( yyin );

   feed( yychar, flows );
   if ( isEndState( flows ) ){
       // TODO copy yytext from saved string
   //   yytext = ....;
   //   TODO reset start
      resetStates( *start, flows );
      return token;
   } else {
      yylex( flows, start );
   }
   // should not get here
   // TODO add check
}

int main(int argc, char *argv[])
{

   if (argc <= 1)
   {
      printf("USAGE: calc inputfilename\n");
      exit(EXIT_FAILURE);
   }
   
   yyparse(argv[1]);
   
   return 0;
}
